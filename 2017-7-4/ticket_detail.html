<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="pragma" content="no-cache">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta content="telephone=no,email=no" name="format-detection" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no"/>

    <!-- sys css -->
    <link rel="stylesheet" href="css/base.css">
    <link rel="stylesheet" href="css/style.css">
    <!-- Element-UI css -->
    <link rel="stylesheet" href="css/element-ui@1.2.4.css">
    <!-- sys js -->
    <script src="js/jquery-2.1.4.js"></script>
    <!--<script src="js/jquery-1.8.3.min.js"></script>-->
    <script src="js/vue.js"></script>
    <!-- Element-UI js -->
    <script src="js/element-ui@1.2.4.js"></script>
    <script src="js/vue-component.js"></script>
    <script src="js/base.js"></script>
    <script src="js/interface.js"></script>
    <script src="js/checkLogin.js"></script>

    <title>方案详情</title>
</head>
<body>

<!--
| ------------------------------------------
| ticket_detail_page
| ------------------------------------------
| Here are ticket_detail_page html
|
-->

<div id="ticket_detail_page" class="hidden" v-loading.fullscreen.lock="fullscreenLoading">

    <div class="wb100">

        <ticket-header :title="'方案详情'" :back="true"></ticket-header>

        <div class="clear"></div>

        <div class="pa15 lh30px">
            <img :src="ticketInfo.icon" class="h30px fl">
            <span class="F16 fl mal10 mar10">{{ticketInfo.title}}</span>
            <span class="Fgray-2 fl F14">第{{ticket.number}}期</span>
            <div class="clear"></div>
        </div>

        <div class="clear bor-gray bor-solid-1b"></div>

        <div class="pa15 Fgray-3">

            <div class="wb100 F14 lh30px text-center">
                <div class="fl wb33333">
                    <p class="Fgray-2">订单金额（元）</p>
                    <p class="Fgray-3">{{ticket.totalLotMoney}}</p>
                </div>
                <div class="fl wb33333">
                    <p class="Fgray-2">订单状态</p>
                    <p class="Fblue" v-if="ticket.status == 0">等待开奖</p>
                    <p class="Fred" v-if="ticket.status == 1">已中奖</p>
                    <p class="Fgray-3" v-if="ticket.status == 2">未中奖</p>
                </div>
                <div class="fl wb33333">
                    <p class="Fgray-2">税后奖金（元）</p>
                    <p class="Fred" v-if="ticket.status == 1">20.00</p>
                    <p class="Fgray-3" v-if="ticket.status != 1">— —</p>
                </div>
            </div>
            <div class="clear"></div>
        </div>

        <div class="clear"></div>

        <p class="warpper-gray-3 h40px lh40px pal15 par15 Fgray-3">
            <span class="w100px fl">开奖号码</span>
            <span class="fl" v-if="ticket.status == 0">— —</span>
            <span class="fl" v-if="ticket.status != 0">1234567</span>
        </p>

        <div class="clear"></div>

        <div class="pa15 lh25px F14">
            <p>
                <span class="w100px fl">投注信息</span>
                <span class="fl">{{ticket.totalBetNumber}}注{{ticket.lotMulti}}倍</span>
                <span class="Fgray-2 fr F14" @click="switchDetail">
                    <img src="images/arrow-down.png" class="h10px" v-show="showDetail == false">
                    <img src="images/arrow-up.png" class="h10px" v-show="showDetail == true">
                </span>
            </p>

            <div class="wb100" v-show="showDetail">

                <template v-for="item in ticket.details">
                    <div class="clear h10px bor-gray bor-solid-1b"></div>
                    <div class="clear h10px"></div>
                    <p class="Fgray-3 lh30px">
                        <template v-for="item2 in item.nums">

                            <template v-if="ticket.lotteryType == 'JXK3'">
                                <template v-if="item.playType==302 || item.playType==305">
                                    <span class="fl mal5" :class="item2.isHit ? 'Fred' : 'Fgray-3'">{{item2.num}}</span>
                                    <div class="clear"></div>
                                </template>

                                <template v-else>
                                    <template v-for="(item3,key3) in item2">
                                        <template v-if="item.playType==313">
                                            <span class="fl mal5" v-if="key3%2==0" :class="item3.isHit ? 'Fred' : 'Fgray-3'">{{item3.num}}</span>
                                            <span class="fl" v-if="key3%2==1" :class="item3.isHit ? 'Fred' : 'Fgray-3'">{{item3.num}}</span>
                                        </template>
                                        <template v-if="item.playType==311">
                                            <span class="fl mal5" v-if="key3%3==0" :class="item3.isHit ? 'Fred' : 'Fgray-3'">{{item3.num}}</span>
                                            <span class="fl" v-else :class="item3.isHit ? 'Fred' : 'Fgray-3'">{{item3.num}}</span>
                                        </template>

                                        <template v-if="item.playType==312">
                                            <span class="fl mal5" :class="item3.isHit ? 'Fred' : 'Fgray-3'">{{item3.num}}</span>
                                        </template>

                                        <template v-if="item.playType==314">
                                            <span class="fl mal5" v-if="key3%3==0" :class="item3.isHit ? 'Fred' : 'Fgray-3'">{{item3.num}}</span>
                                            <span class="fl" v-else :class="item3.isHit ? 'Fred' : 'Fgray-3'">{{item3.num}}</span>
                                        </template>

                                    </template>
                                </template>

                            </template>

                            <template v-else>
                                <template v-for="(item3,key3) in item2">
                                    <template v-if="ticket.lotteryType == 'ssq'">
                                        <span class="fl mal5" v-if="item3.type == 'red2'" :class="item3.isHit ? 'Fred' : 'Fgray-3'">{{item3.num}}</span>
                                        <span class="fl mal5" v-if="item3.type == 'red'" :class="item3.isHit ? 'Fred' : 'Fgray-3'">{{item3.num}}</span>
                                        <span class="fl mal5" v-if="item3.type == 'blue'" :class="item3.isHit ? 'Fblue' : 'Fgray-3'">{{item3.num}}</span>
                                    </template>
                                    <template v-if="ticket.lotteryType == 'dlt'">
                                        <span class="fl mal5" v-if="item3.type == 'red2'" :class="item3.isHit ? 'Fred' : 'Fgray-3'">{{item3.num}}</span>
                                        <span class="fl mal5" v-if="item3.type == 'red'" :class="item3.isHit ? 'Fred' : 'Fgray-3'">{{item3.num}}</span>
                                        <span class="fl mal5" v-if="item3.type == 'blue2'" :class="item3.isHit ? 'Fblue' : 'Fgray-3'">{{item3.num}}</span>
                                        <span class="fl mal5" v-if="item3.type == 'blue'" :class="item3.isHit ? 'Fblue' : 'Fgray-3'">{{item3.num}}</span>
                                    </template>

                                    <template v-if="ticket.lotteryType == 'D11'">
                                        <span class="fl mal5" :class="item3.isHit ? 'Fred' : 'Fgray-3'">{{item3.num}}</span>
                                    </template>
                                </template>

                                <div class="clear"></div>
                            </template>

                        </template>
                    </p>
                    <div class="clear"></div>
                    <p class="F12 Fgray-2 lh20px">{{item.title}} {{item.betNumber}}注 </p>
                </template>
                <div class="clear"></div>
            </div>

            <div class="clear"></div>
        </div>

        <div class="clear1 warpper-gray-3"></div>

        <div class="pa15 lh25px F14">

            <p>
                <span class="w100px fl">中奖如何计算</span>
                <span class="Fgray-2 fr F14" @click="switchRule">
                    <img src="images/arrow-right.png" class="w10px" v-show="showRule == false">
                    <img src="images/arrow-up.png" class="h10px" v-show="showRule == true">
                </span>
            </p>

            <div class="wb100" v-show="showRule">
                <div class="clear"></div>
                <ticket-rule :lottery="ticketInfo.type"></ticket-rule>
            </div>
            <div class="clear"></div>
        </div>

        <div class="clear1 warpper-gray-3"></div>

        <div class="pa15 lh25px F14">

            <p class="Fgray-2 F12">
                <span class="w100px fl">下单时间</span>
                <span class="fl">{{ticket.createOn}}</span>
            </p>
            <div class="clear"></div>

            <p class="Fgray-2 F12">
                <span class="w100px fl">订单编号</span>
                <span class="fl">{{ticket.ticketNo}}</span>
            </p>
            <div class="clear"></div>

        </div>

        <div class="clear1 warpper-gray-3"></div>

        <div class="clear h80px"></div>

        <div class="wb100 fixed bor-gray bor-solid-1t warpper-white" style="bottom: 0; z-index: 999;">
            <div class="pa15">
                <div class="wb100 warpper-red Fwhite h45px lh45px text-center radius5 F16" @click="toLottery">
                    继续投注
                </div>
            </div>
        </div>

    </div>

</div>

<script>
    let vm = new Vue({
        el : "#ticket_detail_page",
        data : {
            fullscreenLoading : true,
            showDetail : true,
            showRule : false,
            ticketID : '',
            ticket : {},
            ticketInfo : {
                title : '',
                icon : '',
                lotteryType : '',
                type : 1,
            }
        },
        methods : {

            toLottery(){
                if(this.ticketInfo.lotteryType == 'ssq'){
                    window.location.href = 'lottery_ssq.html';
                } if(this.ticketInfo.lotteryType == 'dlt'){
                    window.location.href = 'lottery_dlt.html';
                } if(this.ticketInfo.lotteryType == 'JXK3'){
                    window.location.href = 'lottery_q3.html';
                } if(this.ticketInfo.lotteryType == 'D11'){
                    window.location.href = 'lottery_d11.html';
                }
            },

            switchDetail(){
                this.showDetail = !this.showDetail;
            },

            switchRule(){
                this.showRule = !this.showRule;
            },
        },
        created(){

            let _this = this;

            let _ticketID = base.getParmar('ticketID');

            if(base.isNull(_ticketID)){
                _this.$message({
                    type: 'error',
                    message: '未知错误'
                });
            }else{
                _this.ticketID = _ticketID;
                baseAjax.ticketDetails(_ticketID, function(data){

                    console.log(data);

                    if(data){
                        _this.ticket = data.returnJSON;

                        let _tmp = _this.ticket.details;

                        if(_this.ticket.lotteryType == 'ssq'){

                            _this.ticketInfo = {
                                title : '双色球',
                                icon : 'images/category-3.png',
                                lotteryType : 'ssq',
                                type : 2,
                            }

                            let _nums = "01,02,03,04,05,06#07";
//                                let _nums = _this.ticket.bonusCode;

                            for(let i=0; i<_tmp.length; i++){

                                let _t = _tmp[i];

                                let _tickets = _t.anteCodeList;

                                let __i = _nums.indexOf('#');
                                let _numReds = _nums.substring(0,__i);
                                let _numBlues = _nums.substring(__i+1);
                                _numReds = _numReds.split(',');
                                _numBlues = _numBlues.split(',');

                                if(_t.playType == '101'){
                                    //单式
                                    _t.title = '单式';
                                }if(_t.playType == '102'){
                                    //复式
                                    _t.title = '复式';
                                }if(_t.playType == '103'){
                                    //胆拖
                                    _t.title = '胆拖';
                                }

                                let _tt = [];

                                let _i1,_r,_b,_r2 = [];

                                for(let i=0; i<_tickets.length; i++){
                                    let _numbers = _tickets[i];

                                    if(_t.playType == '103'){
                                        //胆拖
                                        _i1 = _numbers.indexOf('#');
                                        _r = _numbers.substring(0,_i1);

                                        let _i2 = _r.indexOf('$');
                                        let _r1 = _r.substring(_i2+1);
                                        _r2 = _r.substring(0,_i2);
                                        _b = _numbers.substring(_i1+1);

                                        _r = _r1.split(',');
                                        _r2 = _r2.split(',');
                                        _b = _b.split(',');
                                    }else{
                                        _i1 = _numbers.indexOf('#');
                                        _r = _numbers.substring(0,_i1);
                                        _b = _numbers.substring(_i1+1);
                                        _r = _r.split(',');
                                        _b = _b.split(',');
                                    }

                                    let __result = [];


                                    if(_r2.length>0){
                                        __result.push({
                                            num : '(',
                                            isHit : false,
                                            type : 'red2'
                                        })

                                        for(let j=0; j<_r2.length; j++){
                                            let _flag = false;
                                            for(let k=0; k<_numReds.length; k++){
                                                if(_r2[j] == _numReds[k]){
                                                    _flag = true;
                                                    break;
                                                }
                                            }
                                            if(_flag){
                                                __result.push({
                                                    num : _r2[j],
                                                    isHit : true,
                                                    type : 'red2'
                                                })
                                            }else{
                                                __result.push({
                                                    num : _r2[j],
                                                    isHit : false,
                                                    type : 'red2'
                                                })
                                            }
                                        }

                                        __result.push({
                                            num : ')',
                                            isHit : false,
                                            type : 'red2'
                                        })
                                    }

                                    for(let j=0; j<_r.length; j++){
                                        let _flag = false;
                                        for(let k=0; k<_numReds.length; k++){
                                            if(_r[j] == _numReds[k]){
                                                _flag = true;
                                                break;
                                            }
                                        }
                                        if(_flag){
                                            __result.push({
                                                num : _r[j],
                                                isHit : true,
                                                type : 'red'
                                            })
                                        }else{
                                            __result.push({
                                                num : _r[j],
                                                isHit : false,
                                                type : 'red'
                                            })
                                        }
                                    }

                                    __result.push({
                                        num : '+',
                                        isHit : false,
                                        type : 'blue'
                                    })

                                    for(let j=0; j<_b.length; j++){
                                        let _flag = false;
                                        for(let k=0; k<_numBlues.length; k++){
                                            if(_b[j] == _numBlues[k]){
                                                _flag = true;
                                                break;
                                            }
                                        }
                                        if(_flag){
                                            __result.push({
                                                num : _b[j],
                                                isHit : true,
                                                type : 'blue'
                                            })
                                        }else{
                                            __result.push({
                                                num : _b[j],
                                                isHit : false,
                                                type : 'blue'
                                            })
                                        }
                                    }
                                    _tt.push(__result);
                                }

                                _t.nums = _tt;

                                console.log(_tt);

                            }
                        }

                        if(_this.ticket.lotteryType == 'dlt'){

                            _this.ticketInfo = {
                                title : '大乐透',
                                icon : 'images/category-4.png',
                                lotteryType : 'dlt',
                                type : 3,
                            }

                            let _nums = "01,02,03,04,05#06,07";
//                                let _nums = _this.ticket.bonusCode;

                            for(let i=0; i<_tmp.length; i++){

                                let _t = _tmp[i];

                                let _tickets = _t.anteCodeList;

                                let __i = _nums.indexOf('#');
                                let _numReds = _nums.substring(0,__i);
                                let _numBlues = _nums.substring(__i+1);
                                _numReds = _numReds.split(',');
                                _numBlues = _numBlues.split(',');

                                console.log(_t);

                                if(_t.playType == '101'){
                                    //单式
                                    _t.title = '单式';
                                }if(_t.playType == '102'){
                                    //复式
                                    _t.title = '复式';
                                }if(_t.playType == '106'){
                                    //胆拖
                                    _t.title = '胆拖';
                                }

                                let _tt = [];

                                let _i1,_r,_r2 = [],_b, _b2 = [];

                                for(let i=0; i<_tickets.length; i++){
                                    let _numbers = _tickets[i];

                                    if(_t.playType == '106'){
                                        //胆拖
                                        _i1 = _numbers.indexOf('#');

                                        let _tmp1 = _numbers.substring(0,_i1);
                                        let _tmp2 = _numbers.substring(_i1+1);

                                        _r = _tmp1.split('$')[1];
                                        _r2 = _tmp1.split('$')[0];

                                        _b = _tmp2.split('$')[1];
                                        _b2 = _tmp2.split('$')[0];

                                        _r = _r.split(',');
                                        _r2 = _r2.split(',');
                                        _b = _b.split(',');
                                        _b2 = _b2.split(',');

                                    }else{
                                        _i1 = _numbers.indexOf('#');
                                        _r = _numbers.substring(0,_i1);
                                        _b = _numbers.substring(_i1+1);
                                        _r = _r.split(',');
                                        _b = _b.split(',');
                                    }

                                    let __result = [];

                                    if(_r2.length>0){
                                        __result.push({
                                            num : '(',
                                            isHit : false,
                                            type : 'red2'
                                        })

                                        for(let j=0; j<_r2.length; j++){
                                            let _flag = false;
                                            for(let k=0; k<_numReds.length; k++){
                                                if(_r2[j] == _numReds[k]){
                                                    _flag = true;
                                                    break;
                                                }
                                            }
                                            if(_flag){
                                                __result.push({
                                                    num : _r2[j],
                                                    isHit : true,
                                                    type : 'red2'
                                                })
                                            }else{
                                                __result.push({
                                                    num : _r2[j],
                                                    isHit : false,
                                                    type : 'red2'
                                                })
                                            }
                                        }

                                        __result.push({
                                            num : ')',
                                            isHit : false,
                                            type : 'red2'
                                        })
                                    }

                                    for(let j=0; j<_r.length; j++){
                                        let _flag = false;
                                        for(let k=0; k<_numReds.length; k++){
                                            if(_r[j] == _numReds[k]){
                                                _flag = true;
                                                break;
                                            }
                                        }
                                        if(_flag){
                                            __result.push({
                                                num : _r[j],
                                                isHit : true,
                                                type : 'red'
                                            })
                                        }else{
                                            __result.push({
                                                num : _r[j],
                                                isHit : false,
                                                type : 'red'
                                            })
                                        }
                                    }

                                    __result.push({
                                        num : '+',
                                        isHit : false,
                                        type : 'blue'
                                    })

                                    if(_b2.length>0){
                                        __result.push({
                                            num : '(',
                                            isHit : false,
                                            type : 'blue2'
                                        })

                                        for(let j=0; j<_b2.length; j++){
                                            let _flag = false;
                                            for(let k=0; k<_numReds.length; k++){
                                                if(_b2[j] == _numReds[k]){
                                                    _flag = true;
                                                    break;
                                                }
                                            }
                                            if(_flag){
                                                __result.push({
                                                    num : _b2[j],
                                                    isHit : true,
                                                    type : 'blue2'
                                                })
                                            }else{
                                                __result.push({
                                                    num : _b2[j],
                                                    isHit : false,
                                                    type : 'blue2'
                                                })
                                            }
                                        }

                                        __result.push({
                                            num : ')',
                                            isHit : false,
                                            type : 'blue2'
                                        })
                                    }

                                    for(let j=0; j<_b.length; j++){
                                        let _flag = false;
                                        for(let k=0; k<_numBlues.length; k++){
                                            if(_b[j] == _numBlues[k]){
                                                _flag = true;
                                                break;
                                            }
                                        }
                                        if(_flag){
                                            __result.push({
                                                num : _b[j],
                                                isHit : true,
                                                type : 'blue'
                                            })
                                        }else{
                                            __result.push({
                                                num : _b[j],
                                                isHit : false,
                                                type : 'blue'
                                            })
                                        }
                                    }
                                    _tt.push(__result);
                                }

                                _t.nums = _tt;

                                console.log(_tt);

                            }
                        }

                        if(_this.ticket.lotteryType == 'JXK3'){
                            _this.ticketInfo = {
                                title : '江西快三',
                                icon : 'images/category-1.png',
                                lotteryType : 'JXK3',
                                type : 1,
                            }

                            let _nums = "1,2,3";
//                                let _nums = _this.ticket.bonusCode;

                            let _sum = 0;

                            _nums = _nums.split(',');

                            for(let i=0; i<_nums.length; i++){
                                _sum += parseInt(_nums[i]);
                            }

                            for(let i=0; i<_tmp.length; i++){

                                let _t = _tmp[i];
                                let _tt = [];
                                let _tickets = _t.anteCodeList;

                                if(_t.playType == '302'){
                                    //三同号通选
                                    _t.title = '三同号通选';
                                    let _flag = true;
                                    if(_nums[0] == _nums[1] == _nums[2]){
                                        _flag = true;
                                    }else{
                                        _flag = false;
                                    }
                                    if(_flag){
                                        _tt.push({
                                            num : '三同号通选',
                                            isHit : true,
                                        });
                                    }else{
                                        _tt.push({
                                            num : '三同号通选',
                                            isHit : false,
                                        });
                                    }
                                    _t.nums = _tt;
                                }
                                if(_t.playType == '305'){
                                    //三同号通选
                                    _t.title = '三连号通选';
                                    let _flag = true;
                                    if(_nums[0] == _nums[1] - 1 && _nums[1] == _nums[2] - 1){
                                        _flag = true;
                                    }else{
                                        _flag = false;
                                    }
                                    if(_flag){
                                        _tt.push({
                                            num : '三连号通选',
                                            isHit : true,
                                        });
                                    }else{
                                        _tt.push({
                                            num : '三连号通选',
                                            isHit : false,
                                        });
                                    }
                                    _t.nums = _tt;
                                }
                                if(_t.playType == '311'){
                                    //单式投注
                                    _t.title = '单式';

                                    let __result = [];

                                    for(let j=0; j<_tickets.length; j++){
                                        let _tmp1 = _tickets[j].split(',');

                                        //判断类型

                                        let _type = 0;

                                        if(_tmp1[0] == _tmp1[1] == _tmp1[2]){
                                            //三同号
                                            _type = 0;
                                        }else if(_tmp1[0] == _tmp1[1]){
                                            //二同号
                                            _type = 1;
                                        }else{
                                            //三不同号
                                            _type = 2;
                                        }

                                        let ___result = [];
                                        let _flag = true;

                                        for(let k=0; k<_tmp1.length; k++){

                                            if(parseInt(_tmp1[k]) == _nums[k]){
                                                ___result.push({
                                                    num : _tmp1[k],
                                                    isHit : true,
                                                })
                                            }else{
                                                ___result.push({
                                                    num : _tmp1[k],
                                                    isHit : false,
                                                })
                                            }

//                                                for(let n=0; n<_nums.length; n++){
//                                                    if(_tmp1[k] == _nums[n]){
//                                                        _flag = true;
//                                                        break;
//                                                    }else{
//                                                        _flag = false;
//                                                    }
//                                                }

//                                            if(_tmp1[k] == _nums[k]){
//                                                _flag = true;
//                                                break;
//                                            }else{
//                                                _flag = false;
//                                            }
//
//                                            if(_flag){
//                                                ___result.push({
//                                                    num : _tmp1[k],
//                                                    isHit : true,
//                                                });
//                                            }else{
//                                                ___result.push({
//                                                    num : _tmp1[k],
//                                                    isHit : false,
//                                                });
//                                            }

                                        }

                                        __result.push(___result);
                                    }

                                    _t.nums = __result;

                                }
                                if(_t.playType == '312'){
                                    //和值投注
                                    _t.title = '和值';
                                    for(let i=0; i<_tickets.length; i++){
                                        let _numbers = _tickets[i].split(',');
                                        let __result = [];
                                        for(let j=0; j<_numbers.length; j++){
                                            if(parseInt(_numbers[j]) == _sum){
                                                __result.push({
                                                    num : _numbers[j],
                                                    isHit : true,
                                                })
                                            }else{
                                                __result.push({
                                                    num : _numbers[j],
                                                    isHit : false,
                                                })
                                            }
                                        }
                                        _tt.push(__result);
//
                                    }
                                    _t.nums = _tt;

                                }

                                if(_t.playType == '313'){
                                    //二不同号
                                    _t.title = '二不同号';

                                    let __result = [];

                                    for(let i=0; i<_tickets.length; i++){

                                        let _tmp1 = _tickets[i].split(',');

                                        for(let j=0; j<_tmp1.length; j++){
                                            let _tmp2 = _tmp1[j].split('');

                                            let ___result = [];

                                            for(let k=0; k<_tmp2.length; k++){

                                                let _flag = true;

                                                for(let n=0; n<_nums.length; n++){
                                                    if(_tmp2[k] == _nums[n]){
                                                        _flag = true;
                                                        break;
                                                    }else{
                                                        _flag = false;
                                                    }
                                                }
                                                if(_flag){
                                                    ___result.push({
                                                        num : _tmp2[k],
                                                        isHit : true,
                                                    });
                                                }else{
                                                    ___result.push({
                                                        num : _tmp2[k],
                                                        isHit : false,
                                                    });
                                                }
                                            }

                                            __result.push(___result)

                                        }

                                    }

                                    _t.nums = __result;

                                    console.log(_t);

                                }
                                if(_t.playType == '314'){
                                    //二同号
                                    _t.title = '二同号';

                                    for(let i=0; i<_tickets.length; i++){
                                        let _numbers = '';
                                        let ___result = [];
                                        if(_tickets[i] == 1){
                                            _numbers = ['1','1','*'];
                                        } if(_tickets[i] == 2){
                                            _numbers = ['2','2','*'];
                                        } if(_tickets[i] == 3){
                                            _numbers = ['3','3','*'];
                                        } if(_tickets[i] == 4){
                                            _numbers = ['4','4','*'];
                                        } if(_tickets[i] == 5){
                                            _numbers = ['5','5','*'];
                                        } if(_tickets[i] == 6){
                                            _numbers = ['6','6','*'];
                                        }
                                        for(let j=0; j<_numbers.length; j++){
                                            if(parseInt(_numbers[j]) == _nums[j]){
                                                ___result.push({
                                                    num : _numbers[j],
                                                    isHit : true,
                                                })
                                            }else{
                                                ___result.push({
                                                    num : _numbers[j],
                                                    isHit : false,
                                                })
                                            }
                                        }
                                        _tt.push(___result);
                                    }
                                    _t.nums = _tt;
                                    console.log(_t);
                                }

                            }
                        }

                        if(_this.ticket.lotteryType == 'D11'){
                            _this.ticketInfo = {
                                title : '11选5',
                                icon : 'images/category-2.png',
                                lotteryType : 'D11',
                                type : 3,
                            }

                            let _nums = "1,2,3";
//                                let _nums = _this.ticket.bonusCode;

                            _nums = _nums.split(',');

                            for(let i=0; i<_tmp.length; i++){

                                let _t = _tmp[i];

                                let _tickets = _t.anteCodeList;

                                let _tt = [];

                                if(_t.playType == 9 || _t.playType == 10){

                                    let _numbers = [];
                                    let _i1 = 0;
                                    let _i2 = 0;
                                    let _t1 = '';
                                    let _t2 = '';
                                    let _t3 = '';
                                    _t1 = _t1.split(",");
                                    _t2 = _t2.split(",");

                                    //直选
                                    if(_t.playType == 9){
                                        _t.title = '前二直选';
                                    }
                                    else{
                                        _t.title = '前三直选';
                                    }

                                    for(let i=0; i<_tickets.length; i++){

                                        //直选
                                        if(_t.playType == 9){
                                            //前二直选
                                            _numbers = _tickets[i];
                                            _i1 = _numbers.indexOf('|');
                                            _t1 = _numbers.substring(0,_i1);
                                            _t2 = _numbers.substring(_i1+1);
                                            _t1 = _t1.split(",");
                                            _t2 = _t2.split(",");
                                        }
                                        else{
                                            //前三直选
                                            _numbers = _tickets[i];
                                            _i1 = _numbers.indexOf('|');
                                            _t1 = _numbers.substring(0,_i1);
                                            let _tt2 = _numbers.substring(_i1+1);
                                            _i2 = _tt2.indexOf('|');
                                            _t2 = _tt2.substring(0,_i2);
                                            _t3 = _tt2.substring(_i2+1);

                                            _t1 = _t1.split(",");
                                            _t2 = _t2.split(",");
                                            _t3 = _t3.split(",");
                                        }

                                        let __result = [];

                                        for(let j=0; j<_t1.length; j++){
                                            let _flag = false;
                                            for(let k=0; k<_nums.length; k++){
                                                if(_t1[j] == _nums[k]){
                                                    _flag = true;
                                                    break;
                                                }
                                            }
                                            if(_flag){
                                                __result.push({
                                                    num : _t1[j],
                                                    isHit : true,
                                                })
                                            }else{
                                                __result.push({
                                                    num : _t1[j],
                                                    isHit : false,
                                                })
                                            }
                                        }

                                        __result.push({
                                            num : ' | ',
                                            isHit : false,
                                        })

                                        for(let j=0; j<_t2.length; j++){
                                            let _flag = false;
                                            for(let k=0; k<_nums.length; k++){
                                                if(_t2[j] == _nums[k]){
                                                    _flag = true;
                                                    break;
                                                }
                                            }
                                            if(_flag){
                                                __result.push({
                                                    num : _t2[j],
                                                    isHit : true,
                                                })
                                            }else{
                                                __result.push({
                                                    num : _t2[j],
                                                    isHit : false,
                                                })
                                            }
                                        }

                                        __result.push({
                                            num : ' | ',
                                            isHit : false,
                                        })

                                        for(let j=0; j<_t3.length; j++){
                                            let _flag = false;
                                            for(let k=0; k<_nums.length; k++){
                                                if(_t3[j] == _nums[k]){
                                                    _flag = true;
                                                    break;
                                                }
                                            }
                                            if(_flag){
                                                __result.push({
                                                    num : _t3[j],
                                                    isHit : true,
                                                })
                                            }else{
                                                __result.push({
                                                    num : _t3[j],
                                                    isHit : false,
                                                })
                                            }
                                        }

                                        _tt.push(__result);
//
                                    }

                                }
                                else{
                                    //任选
                                    if(_t.playType == 1){
                                        _t.title = '任选一';
                                    }if(_t.playType == 2){
                                        _t.title = '任选二';
                                    }if(_t.playType == 3){
                                        _t.title = '任选三';
                                    }if(_t.playType == 4){
                                        _t.title = '任选四';
                                    }if(_t.playType == 5){
                                        _t.title = '任选五';
                                    }if(_t.playType == 6){
                                        _t.title = '任选六';
                                    }if(_t.playType == 7){
                                        _t.title = '任选七';
                                    }if(_t.playType == 11){
                                        _t.title = '前二组选';
                                    }if(_t.playType == 12){
                                        _t.title = '前三组选';
                                    }

                                    for(let i=0; i<_tickets.length; i++){
                                        let _numbers = _tickets[i].split(',');

                                        let __result = [];

                                        for(let j=0; j<_numbers.length; j++){
                                            let _flag = false;
                                            for(let k=0; k<_nums.length; k++){
                                                if(_numbers[j] == _nums[k]){
                                                    _flag = true;
                                                    break;
                                                }
                                            }
                                            if(_flag){
                                                __result.push({
                                                    num : _numbers[j],
                                                    isHit : true,
                                                })
                                            }else{
                                                __result.push({
                                                    num : _numbers[j],
                                                    isHit : false,
                                                })
                                            }
                                        }

                                        _tt.push(__result);
//
                                    }
                                }

                                _t.nums = _tt;

                                console.log(_tmp[i]);
                            }
                        }

                    }
                })
            }

            setTimeout(() => {
                $("#ticket_detail_page").removeClass("hidden");
                this.fullscreenLoading = false;
        }, ajaxConfig.lazy);

        }

    })

</script>

</body>
</html>
